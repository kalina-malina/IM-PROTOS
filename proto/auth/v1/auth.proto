syntax = "proto3";

package auth.v1;

option go_package = "github.com/kalina-malina/IM-PROTOS/generated/auth/v1";
import "client/v1/client.proto"; 

service AuthOrRegistrationService {
  rpc SheashClient(SheashClientRequest) returns (SheashClientResponse);
  rpc RegiterClient(RegisterClientRequest) returns (RegisterClientResponse);
  rpc VerifySmsCode(VerifySmsCodeRequest) returns (VerifySmsCodeResponse);
}


message SheashClientRequest {
  string phone_number = 1;
}


message SheashClientResponse {
  client.v1.Client Client = 1;
  client.v1.ClientSettings ClientSettings = 2;
}



message RegisterClientRequest {
  string phone_number = 1;

}

message RegisterClientResponse {
  bool satus = 1;
  bool is_new_client = 2;
  optional string msg = 3;
  optional string verification_id  = 4;
  
}

message VerifySmsCodeRequest {
  optional string verification_id = 1;
  optional string code = 2;
}

message VerifySmsCodeResponse {
  bool is_verified = 1;
  bool is_new_user = 2;
  string access_token = 3;
  string sid = 4;
  
}





