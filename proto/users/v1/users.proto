syntax = "proto3";

package users.v1;

option go_package = "github.com/kalina-malina/IM-PROTOS/generated/users/v1";


service UsersService {
  rpc UpdateUserProfile(UpdateUserProfileRequest) returns (UpdateUserProfileResponse);
  //rpc UpdateUser(UpdateUserRequest) returns (UpdateUserResponse);
  //rpc LockUser(LockUserRequest) returns (LockUserResponse);
  //
  //rpc UpdateUserSettings(UpdateUserSettingsRequest) returns (UpdateUserSettingsResponse);
  
}

message UpdateUserProfileRequest {
  uint64 id = 1;
  string first_name = 2;
  string last_name = 3;
  string middle_name = 4;
  string date_of_birth = 5;
  uint64 phone = 6;
  string email = 7;
  repeated Childrens childrens = 8;
}

message UpdateUserProfileResponse {
  User user = 1;
}

message User{
  uint64 id = 1;
  Role role = 9;
  string first_name = 2;
  string last_name = 3;
  string middle_name = 4;
  string date_of_birth = 5;
  uint64 card_number = 6;
  uint64 phone = 7;
  string email = 8;
  string last_coment_delivery = 10;
  uint32 selected_store_id = 11;
  repeated Childrens children = 12;
  ABTestGroup ab_test_group = 13;
}


message Childrens {
  string name = 1;
  string first_name = 2;
  string last_name = 3;
  string middle_name = 4;
  string date_of_birth = 5;
  string mail = 6;
}

message UserSettings {
  bool push_notifications = 1;        // Push уведомления
  bool email_notifications = 2;       // Email уведомления
  bool sms_notifications = 3;         // SMS уведомления
  bool marketing_emails = 4;          // Маркетинговые рассылки
  bool marketing_sms = 5;             // Маркетинговые SMS
  bool order_updates = 6;             // Уведомления о заказах
  bool promotional_offers = 7;        // Промо-акции
  optional uint32 last_selected_store_id = 8; // Последний выбранный магазин
}

enum Role {
  ROLE_CLIENT = 0;
  ROLE_ADMIN = 1;
  ROLE_OPERATOR = 2;
  ROLE_MARKETING = 3;
  ROLE_SUPPORT = 4;
  ROLE_MANAGEMENT = 5;
}

enum ABTestGroup {
  AB_TEST_GROUP_A = 0;
  AB_TEST_GROUP_B = 1;
  AB_TEST_GROUP_C = 2;
  AB_TEST_GROUP_D = 3;
}

